找長條形狀的原理

利用Hessian矩陣的濾波函數Frangi
論文 : https://www.researchgate.net/publication/2388170_Multiscale_Vessel_Enhancement_Filtering
還不錯的解釋 :
    2. https://www.cnblogs.com/isYiming/p/11111087.html 
        最接近我們現在使用方法的講解 且 有多種程式碼範例
        (BetaOne 與 BetaTwo 講解) 
    3. https://blog.csdn.net/piaoxuezhong/article/details/78428785
        就公式比較詳細且是正確的
    4. https://blog.csdn.net/dfdfdsfdfdfdf/article/details/81019927
        前面 Hessian矩陣 + 高斯模糊 講解的很清楚
1. 求Hessian矩陣      
    為什麼是 2 階導數 
        因為這樣可以找出邊緣 找object邊界
    這又不是 function 我要怎麼取得 Hessian矩陣 ??
        4. 裡面有提到 利用Hessian矩陣對圖片進行2階求導 通常是這樣做的
            對 X 的矩陣
            [   0   0   0
                1   -2  1
                0   0   0   ]
        3. 裡面有提到
            fxx(x,y) = f(x-1,y) - 2*f(x,y) + f(x+1,y) (我覺得4.的公式是寫錯的)
    但是這種方法對躁點很敏感 所以通常會加入高斯模糊變成
        <Hessian矩陣 + 高斯模糊.PNG> 這個公式
    也就是論文中 Fig. 1 左圖 這個圖形其實就是 mask 
    因為這個圖形是固定的
        可以發現 [高 低 高] 這個值的 Kernal 結果很大
        但 [低 高 低] 就很小
        所以才會去判斷 λ2 的正負值 來決定要找黑色條狀還是白色條狀
2. 求Hessian矩陣的兩個特徵值(λ1跟λ2)
    Hessian矩陣特徵值和對應的特徵向量分別代表該點處沿某一方向上圖形曲率大小和方向。
    那麼λ1可以代表曲率較小的方向(灰度梯度變化小),λ2代表曲率較大的方向(灰度梯度變化大)。
    K = (fxx + fyy)/2, Q = (fxx*fyy-fxyfyx)^(1/2)
    λ1 = K + (K^2-Q^2)^(1/2)
    λ2 = K - (K^2-Q^2)^(1/2)

    所以就可以用這兩個值去判斷此點是不是一長條中的某個點
    因為如果是一長條的某個點 λ1是小的值且λ2是大的值
        (λ1就是會跟object本身相連所以梯度小 λ2就是與交界相連所以梯度大) 
        (且相同的 object λ1 的值應該)
3. 通常這樣計算出來的結果只會找出某個特定寬度的長條型
    所以就要用不同的 kernel 大小去計算
    找出我們想要的所有寬度
    然後把全部的結果相加 就是所以寬度的長條形

    2. 的 S公式 有寫錯 論文中是 λ1^2 + λ2^2
    A 跟 B 只是替代的公式
    
-------------------------------------
20221015
這個計算特徵值 應該要用紙筆去驗算
不知道 浪打1 浪打2 代表的意義我也不知道這兩個數字代表的意義

應該說我們要找到一個數值 用 DXX DYY DXY DYX 計算之後要等於 0
    我不確定為什麼這四個數值計算等於0會導致計算出來的數值 浪打1 浪打2 有各自的意義 ??
        因為我不知到 DXX DYY DXY DYX 這四個數值計算出來的意義??
            尤其是 DXY DYX 這兩個數值應該要是一樣的 
                但我不知道 對 X 做微分再對 Y 做微分的意義是什麼
                DXY 跟 DYX 是 X = Y 方向 變化量最劇烈的地方
                (我想要印出 DXY 看一下 ??) 沒有 X = -Y 方向嗎?

我們為什麼不直接對 浪打1 浪打2 做數值的判斷就好
    因為沒有正規化
    我們要的是 浪打1 與 浪打2 之間的相對關係

根據公式如果我單獨調整 betaone 跟 betatwo 的話 數值應該是要朝單個方向增加
    不管數值是多少  應該要增加 相對應的結果應該要變多或變少
        但是現在好像是在某個數值 增加或減少 相對應的結果都是減少 ??
